option_settings:
    - Namespace: 'aws:elbv2:loadbalancer'
      OptionName: AccessLogsS3Bucket
      Value: !Ref LoadBalancerAccessLogsBucket
    - Namespace: 'aws:elbv2:loadbalancer'
      OptionName: AccessLogsS3Enabled
      Value: 'true'
    - Namespace: 'aws:elbv2:listener:default'
      OptionName: Protocol
      Value: HTTP
    - Namespace: 'aws:elbv2:listener:443'
      OptionName: Protocol
      Value: HTTPS
    - Namespace: 'aws:elbv2:listener:443'
      OptionName: SSLCertificateArns
      Value: !ImportValue us-east-1-bridgeserver2-common-SSLCertificate
Resources:
    AlbHttpsRedirectListener:
       Type: "AWS::ElasticLoadBalancingV2::Listener"
       Properties:
         DefaultActions:
           - Type: "redirect"
             RedirectConfig:
               Protocol: "HTTPS"
               Port: "443"
               Host: "#{host}"
               Path: "/#{path}"
               Query: "#{query}"
               StatusCode: "HTTP_301"
         LoadBalancerArn: !Ref AWSEBV2LoadBalancer
         Port: 80
         Protocol: "HTTP"
